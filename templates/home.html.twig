{% extends "base.html.twig" %}

{% block body %}
    <div class="jumbotron jumbotron-fluid mb-0" id="header">
        <div class="container text-center">
            <h1 class="display-4 mt-2 mb-5" id="main-title">VarDump Formatter</h1>
            <p class="lead"><code>var_dump</code> is a <a href="https://www.php.net/manual/en/function.var-dump.php">PHP
                    standard method</a> that dumps a variable entirely and allows you to see its content.</p>
            <p class="lead">VarDumperFormatter.io beautifies this method's output for you.</p>
            <a class="btn btn-lg btn-warning mt-4" href="https://www.php.net/manual/en/function.var-dump.php">Learn more
                about it</a>
        </div>
    </div>

    <div id="beautifier">
        <div class="container py-5">
            <div class="row">
                <div class="col">
                    <div class="alert alert-warning">Paste your dump with caution, it could contain sensitive
                        information! <strong>We do not store your dump</strong>, unless you explicitly ask for it when
                        you share it.
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <h2>Beautifier <small class="text-muted small">Paste your <code>var_dump</code> output here</small>
                    </h2>
                </div>
            </div>

            {{ form_start(form) }}
            <div class="row">
                <div class="col-12">
                    {{ form_errors(form.content, {'attr': {'class': 'form-control'}}) }}
                    {{ form_widget(form.content, {'attr': {'class': 'form-control'}}) }}
                </div>
                <div class="col-6 my-3">
                    <button id="beautify-btn" type="button" class="btn btn-warning btn-block"
                            data-href="{{ url('_format') }}">Beautify it!
                    </button>
                </div>
                <div class="col-6 my-3">
                    <button id="share-btn" type="button" data-href="{{ url('_share') }}"
                            class="btn btn-outline-warning btn-block">Share
                    </button>
                </div>
            </div>
            {{ form_end(form) }}

            <div class="row collapse" id="share-id-input-container">
                <div class="col-12">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon3"><i class="material-icons">share</i>&nbsp;Share link</span>
                        </div>
                        <input class="form-control" id="share-id-input" aria-describedby="basic-addon3">
                    </div>
                </div>
            </div>

            <div class="col-12 py-3 collapse {% if nodes is defined %}show{% endif %}" id="result">
                {% if nodes is defined %}
                    {% for node in nodes.children %}
                        {% include 'node.html.twig' with {node: node} %}
                    {% endfor %}
                {% endif %}
            </div>

            {# {% if nodes is not null %} #}
            {# <h1>Dump of nodes</h1> #}

            {# {{ dump(nodes) }} #}
            {# {% endif %} #}
        </div>
    </div>

    <div class="jumbotron jumbotron-fluid mb-0">
        <div class="container text-center">
            <h2 class="display-4 mb-3 text-muted">Tools to do this offline</h2>
            <p class="lead mb-4 pb-3">It exists plenty of tools to do this directly when dumping your variables in your
                code.</p>
            <div class="card-deck">
                <div class="card shadow">
                    <div class="card-body">
                        <svg class="my-3" xmlns="http://www.w3.org/2000/svg" width="351" height="80"
                             viewBox="0 0 351 181"><title>Xdebug</title>
                            <g fill="none" fill-rule="evenodd" stroke="#FFF">
                                <g transform="translate(5 5)">
                                    <path fill="#317E1E" fill-rule="nonzero" stroke-width="5"
                                          d="M127.9 85.5l68.2 70.7.4 17.3h-38.6l-60.8-59.7-60 59.7h-39v-17.6l69.7-69.8-69.6-71.2V-2.5h38.7l60.2 60 61-60h38.3v16l-68.5 72z"></path>
                                    <circle cx="75.9" cy="74.6" r="3.5" stroke-opacity=".8" stroke-width="4"></circle>
                                    <circle cx="105.1" cy="85" r="3.5" stroke-opacity=".8" stroke-width="4"></circle>
                                    <circle cx="158.4" cy="15" r="3.5" stroke-opacity=".8" stroke-width="4"></circle>
                                    <circle cx="50.9" cy="140" r="3.5" stroke-opacity=".8" stroke-width="4"></circle>
                                    <circle cx="180.4" cy="158.5" r="3.5" stroke-opacity=".8" stroke-width="4"></circle>
                                    <path stroke-linecap="square" stroke-linejoin="round" stroke-width="4"
                                          d="M32.6 158.2L42 149M104.3 69.1l49.4-49.4"></path>
                                    <path stroke-linejoin="round" stroke-width="4"
                                          d="M102.3 82.7L30.3 10H11.2M167.4 10H183M11.2 160.7l79.2-78"></path>
                                    <path stroke-linejoin="round" stroke-opacity=".7" stroke-width="4"
                                          d="M116.3 74.6L181 10"></path>
                                    <path stroke-linejoin="round" stroke-width="4" d="M20.7 19.7l52.7 52.6"></path>
                                    <path stroke-linejoin="round" stroke-opacity=".7" stroke-width="4"
                                          d="M116.3 96.7l32 32"></path>
                                    <path stroke-linejoin="round" stroke-width="4"
                                          d="M155.2 133.6l22.1 22M53.6 137.5L97 94.9l67.1 66.6h4.9"></path>
                                </g>
                                <g fill="#000" fill-rule="nonzero" stroke-width="4">
                                    <path d="M158.3 107.7V72.9c0-.5 0-.5-.8-.5-.7 0-.7 0-.7.6v34.7c0 .6 0 .5.7.5.8 0 .7 0 .7-.5zm3.9 11.2a22.5 22.5 0 0 1-20-.7c-3.4-2-5.2-4.8-5.2-8.4V69.6c0-3 1.5-5.6 4.3-7.4a17 17 0 0 1 9.2-2.4c3 0 5.6.3 7.7 1V47H178v73h-15l-.8-1.1zM200.9 84V73.2c0-.8 0-.8-.8-.8s-.8 0-.8.8V84h1.6zm-1.6 12.5v11c0 .7 0 .7.8.7.7 0 .8 0 .8-.8V97.2h19.8v10.4c0 8.9-7.3 13.2-20.7 13.2-13.3 0-20.5-4.5-20.5-13.7V73.6c0-9.2 7.2-13.8 20.5-13.8 13.4 0 20.7 4.4 20.7 13.4v23.3h-21.4zM243.3 107.7V73c0-.6 0-.6-.7-.6-.8 0-.8 0-.8.5v34.8c0 .6 0 .5.8.5.7 0 .7 0 .7-.5zm-5.4 11.1l-.9 1.3h-15V47h19.8v13.8c2.1-.7 4.7-1 7.9-1 3.1 0 6.1.8 8.8 2.3 3 1.6 4.6 4.2 4.6 7.5v40.2c0 3.6-1.8 6.4-5.3 8.4a22.5 22.5 0 0 1-19.9.6zM285.8 119.7c-2.1.8-4.7 1.1-7.8 1.1a17 17 0 0 1-9.1-2.4c-2.8-1.7-4.4-4.2-4.4-7.2v-51h19.8v47.5c0 .6 0 .5.8.5.7 0 .7 0 .7-.4V60h19.8v60h-19.8v-.4zM328.3 108.3V73c0-.6 0-.6-.7-.6-.8 0-.8 0-.8.6V108c0 .6 0 .6.8.6.7 0 .7 0 .7-.4zm-.9 11.8c-2 .5-4.2.7-6.9.7a17 17 0 0 1-9.1-2.4c-2.9-1.7-4.4-4.2-4.4-7.2V71c0-7.4 5.2-11.2 14.6-11.2 2.3 0 5 .7 8.3 2l1.7-1.7H348v57.3c0 4.4-1 9.5-2.8 12-2.1 3.2-7.7 4.5-17 4.5h-18.4v-12h14.9c1.1 0 2-.7 2.7-1.8z"></path>
                                </g>
                            </g>
                        </svg>
                        <p class="card-text">Xdebug is an extension for PHP to assist with debugging and development.
                            Among other things, this extension allows you to update your <code>var_dump</code> method to
                            clearly display your dumps, with syntax highlighting and indentation for example.</p>
                        <a href="https://xdebug.org/" class="btn btn-primary btn-sm">Learn more about Xdebug</a>
                    </div>
                </div>
                <div class="card shadow">
                    <div class="card-body">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                             x="0px" y="0px" width="289.333px" height="80" viewBox="0 0 289.333 122.833"
                             enable-background="new 0 0 289.333 122.833" xml:space="preserve">
<g id="fond">
</g>
                            <g id="compacte">
                            </g>
                            <g id="rectangle">
                            </g>
                            <g id="carrÃ©">
                                <rect y="0" fill="#FFFFFF" width="289.333" height="122.833"/>
                                <g>
                                    <g>
                                        <circle cx="58.657" cy="58.07" r="28.072"/>
                                        <path fill="#FFFFFF"
                                              d="M70.93,40.385c-2.851,0.1-5.342,1.672-7.193,3.846c-2.053,2.384-3.417,5.213-4.401,8.099     c-1.759-1.442-3.116-3.308-5.938-4.122c-2.183-0.627-4.473-0.369-6.58,1.201c-0.999,0.746-1.686,1.873-2.013,2.932     c-0.848,2.754,0.889,5.205,1.679,6.086l1.725,1.846c0.356,0.363,1.211,1.309,0.794,2.664c-0.453,1.475-2.229,2.428-4.052,1.867     c-0.814-0.252-1.984-0.857-1.721-1.709c0.108-0.35,0.358-0.613,0.493-0.912c0.123-0.26,0.181-0.454,0.218-0.568     c0.333-1.088-0.122-2.502-1.286-2.861c-1.087-0.332-2.197-0.068-2.628,1.329c-0.49,1.591,0.271,4.472,4.344,5.729     c4.772,1.467,8.809-1.133,9.381-4.521c0.361-2.122-0.599-3.7-2.354-5.729l-1.43-1.581c-0.867-0.867-1.164-2.342-0.268-3.475     c0.757-0.957,1.834-1.365,3.601-0.886c2.577,0.698,3.726,2.487,5.642,3.93c-0.791,2.595-1.309,5.2-1.776,7.538l-0.287,1.74     c-1.371,7.186-2.416,11.131-5.134,13.396c-0.547,0.391-1.331,0.973-2.51,1.014c-0.619,0.02-0.818-0.406-0.828-0.592     c-0.014-0.434,0.353-0.633,0.596-0.828c0.363-0.199,0.912-0.527,0.875-1.578c-0.041-1.246-1.071-2.324-2.559-2.273     c-1.117,0.037-2.816,1.086-2.752,3.01c0.066,1.984,1.916,3.473,4.706,3.377c1.492-0.049,4.822-0.656,8.103-4.557     c3.819-4.473,4.888-9.6,5.692-13.352l0.896-4.953c0.499,0.059,1.031,0.1,1.611,0.113c4.757,0.102,7.136-2.363,7.173-4.155     c0.023-1.085-0.712-2.152-1.742-2.128c-0.736,0.021-1.662,0.511-1.884,1.529c-0.217,1,1.514,1.902,0.161,2.779     c-0.961,0.623-2.684,1.061-5.11,0.705l0.442-2.439c0.899-4.624,2.011-10.312,6.224-10.449c0.307-0.016,1.431,0.014,1.457,0.756     c0.007,0.248-0.054,0.312-0.344,0.88c-0.297,0.442-0.408,0.819-0.395,1.253c0.042,1.18,0.939,1.956,2.238,1.91     c1.737-0.057,2.237-1.748,2.209-2.618C75.933,41.583,73.779,40.293,70.93,40.385z"/>
                                    </g>
                                    <g>
                                        <g>
                                            <path d="M200.791,50.172c6.474,0,10.813,4.677,10.813,11.147c0,6.097-4.424,11.146-10.813,11.146      c-6.428,0-10.852-5.049-10.852-11.146C189.939,54.849,194.277,50.172,200.791,50.172z M200.791,69.297      c4.593,0,6.637-4.176,6.637-7.978c0-4.048-2.463-7.972-6.637-7.972c-4.216,0-6.68,3.924-6.68,7.972      C194.111,65.121,196.158,69.297,200.791,69.297z"/>
                                        </g>
                                        <path d="M189.401,52.154v-1.481h-5.638v-2.024c0-2.881,0.419-5.055,3.798-5.055c0.062,0,0.128,0.006,0.193,0.009     c0.007,0,0.005-0.011,0.013-0.011c0.938,0.068,1.72-0.695,1.772-1.633l0.068-1.286c-0.793-0.126-1.63-0.25-2.63-0.25     c-5.803,0-7.138,3.382-7.138,8.56v1.69h-5.015v1.653c0.129,0.857,0.863,1.518,1.758,1.518c0.004,0,0.009,0.004,0.014,0.004h3.243     v18.119h2.16c0.005,0,0.002,0,0.007,0c0.9,0,1.634-0.678,1.756-1.541V53.848h3.926C188.612,53.817,189.355,53.078,189.401,52.154     z"/>
                                        <path d="M137.125,50.673c-0.006,0-0.011,0.005-0.021,0.005c-0.826,0-1.627,0.568-1.977,1.337l-5.399,16.278h-0.084l-5.281-16.27     c-0.346-0.773-1.15-1.346-1.982-1.346c-0.01,0-0.013-0.005-0.021-0.005h-2.737l7.223,19.874c0.252,0.711,0.754,1.797,0.754,2.254     c0,0.42-1.17,5.26-4.679,5.26c-0.086,0-0.174-0.01-0.259-0.016c-0.895-0.049-1.571,0.576-1.72,1.539l-0.107,1.359     c0.71,0.125,1.422,0.293,2.674,0.293c5.176,0,6.721-4.721,8.184-8.811l7.847-21.753H137.125z"/>
                                        <path d="M112.177,54.998c-3.24-1.658-6.787-2.785-6.849-6.121c0.01-3.543,3.266-4.474,5.774-4.471     c0.012-0.002,0.022-0.002,0.028-0.002c1.09,0,1.961,0.108,2.812,0.295c0.011,0,0.009-0.014,0.022-0.014     c0.9,0.066,1.655-0.637,1.76-1.523l0.072-1.287c-1.645-0.408-3.364-0.617-4.86-0.617c-5.455,0.034-9.506,2.779-9.519,8.018     c0.006,4.58,3.092,6.355,6.414,7.963c3.256,1.566,6.821,2.858,6.852,6.639c-0.018,3.943-3.824,5.396-6.447,5.402     c-1.534-0.006-3.199-0.387-4.603-0.83c-0.879-0.145-1.6,0.631-1.715,1.658l-0.118,1.146c1.929,0.623,3.906,1.168,5.895,1.168     c0,0,0.002,0,0.004,0c0.005,0,0.012,0,0.018,0c6.112-0.045,10.862-2.482,10.881-8.811     C118.591,58.729,115.482,56.678,112.177,54.998z"/>
                                        <path d="M171.534,71.967c0.003,0,0.003,0,0.005,0c0.847,0,1.554-0.596,1.731-1.389V58.314c0-4.635-1.958-8.143-7.389-8.143     c-1.92,0-5.134,1.088-6.596,4.135c-1.126-2.881-3.59-4.135-6.051-4.135c-3.133,0-5.263,1.127-6.765,3.592h-0.084v-1.324     c-0.012-0.975-0.801-1.762-1.777-1.762c-0.009,0-0.013-0.005-0.019-0.005h-1.877v21.294h2.124c0.003,0,0.003,0,0.005,0     c0.984,0,1.78-0.799,1.78-1.781c0-0.027,0.009-0.037,0.018-0.055v-8.895c0-3.965,1.585-7.889,5.592-7.889     c3.171,0,3.802,3.297,3.802,5.928v12.691h2.153c0.002,0,0.002,0,0.006,0c0.93,0,1.679-0.715,1.762-1.623v-9.107     c0-3.965,1.588-7.889,5.595-7.889c3.173,0,3.8,3.297,3.8,5.928v12.691H171.534z"/>
                                        <path d="M232.182,71.967c0.002,0,0.002,0,0.005,0c0.957,0,1.728-0.756,1.773-1.703V59.316c0-5.719-2.466-9.145-7.977-9.145     c-2.964,0-5.801,1.463-6.973,3.886h-0.082v-1.591c0-0.002-0.004-0.002-0.004-0.006c0-0.987-0.799-1.783-1.779-1.783     c-0.011,0-0.013-0.005-0.02-0.005h-1.998v21.294h2.157c0,0,0,0,0.004,0c0.934,0,1.691-0.727,1.763-1.643v-8.211     c0-5.176,2.006-8.766,6.473-8.766c3.427,0.207,4.507,2.627,4.507,7.597v11.022H232.182z"/>
                                        <path d="M253.31,50.673c-0.01,0-0.014,0.005-0.022,0.005c-0.827,0-1.629,0.568-1.978,1.337l-5.397,16.278h-0.088l-5.282-16.27     c-0.346-0.773-1.15-1.346-1.98-1.346c-0.008,0-0.013-0.005-0.02-0.005h-2.737l7.224,19.874c0.25,0.711,0.755,1.797,0.755,2.254     c0,0.42-1.171,5.26-4.681,5.26c-0.085,0-0.171-0.01-0.259-0.016c-0.895-0.049-1.568,0.576-1.722,1.539l-0.105,1.359     c0.709,0.125,1.422,0.293,2.675,0.293c5.176,0,6.72-4.721,8.184-8.811l7.849-21.753H253.31z"/>
                                    </g>
                                </g>
                            </g>
</svg>
                        <h5 class="card-title">VarDumper</h5>
                        <p class="card-text">If you work on a Symfony project, you probably know the VarDumper. This
                            tool is a version of <code>var_dump</code> under steroids, which in addition to syntax
                            highlighting allows you to unfold and fold your objects and arrays, like when you fold
                            blocks of code in your favorite IDE.</p>
                        <a href="https://symfony.com/doc/current/components/var_dumper.html"
                           class="btn btn-primary btn-sm">Learn more about VarDumper</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer" class="py-5 text-center">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h2>VarDumpFormatter is brought to you by Alexandre Daubois</h2>
                    <p>Thank you for using it!</p>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script type="text/javascript" src="/js/home.js"></script>
{% endblock %}